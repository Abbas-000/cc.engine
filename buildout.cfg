[buildout]
develop = . cc.license_ 
parts = 
      i18n 
      cc.engine 
      database 
      cc_engine 
      test 
      maildir-cur maildir-new maildir-tmp
find-links = http://download.zope.org/distribution
extends = http://grok.zope.org/releaseinfo/grok-0.14.1.cfg
index = http://download.zope.org/simple/
newest = false
versions = versions

[i18n]
recipe = cc.gettext:msgfmt
po_path = cc/engine/i18n/po
mo_path = cc/engine/locales

[cc.engine]
recipe=zc.recipe.egg
eggs = cc.engine
interpreter=python

[application]
recipe = zc.zope3recipes:app
eggs = cc.engine
site.zcml = <include package="cc.engine" />
            <include package="zope.app.twisted" />

            <unauthenticatedPrincipal id="zope.anybody"
                                      title="Unauthenticated User" />
            <unauthenticatedGroup id="zope.Anybody"
                                  title="Unauthenticated Users" />
            <authenticatedGroup id="zope.Authenticated"
                                title="Authenticated Users" />
            <everybodyGroup id="zope.Everybody"
                            title="All Users" />
            <principal id="zope.manager"
                       title="Manager"
                       login="manager"
                       password_manager="Plain Text"
                       password="manager"
                       />

            <!-- Replace the following directive if you dont want
                 public access -->
            <grant permission="zope.View"
                   principal="zope.Anybody" />
            <grant permission="zope.app.dublincore.view"
                   principal="zope.Anybody" />

            <role id="zope.Manager" title="Site Manager" />
            <role id="zope.Member" title="Site Member" />
            <grantAll role="zope.Manager" />
            <grant role="zope.Manager"
                   principal="zope.manager" />

[cc_engine]
recipe = zc.zope3recipes:instance
application = application
zope.conf = ${database:zconfig}
address = 9081
deployment = cc_engine-run

[cc_engine-run]
etc-directory = /etc/license-engine-labs
rc-directory = /etc/init.d
log-directory =/var/log/license-engine-labs
run-directory = /var/run/license-engine-labs
user = root

[test]
recipe = zc.recipe.testrunner
eggs = cc.engine
defaults = ['--tests-pattern', '^f?tests$', '-v']

[zope3]
# this dead chicken is needed by some other recipe(s)
location =

[database]
recipe = zc.recipe.filestorage

[xxx_report]
recipe = cc.buildout_reports:xxx
pattern = ?(XXX|TODO|YYY|ZZZ)

[icu]
recipe = zc.recipe.icu
version = 3.2

# Gee, it'd be nice if the recipe could do multiple paths

[maildir-cur]
recipe = lovely.recipe:mkdir
createpath = True
path = var/mailqueue/cur

[maildir-new]
recipe = lovely.recipe:mkdir
createpath = True
path = var/mailqueue/new

[maildir-tmp]
recipe = lovely.recipe:mkdir
createpath = True
path = var/mailqueue/tmp
