{% extends "macros_templates/engine.html" %}

{% block title %}{{ cctrans(locale, "license.zero.waiver_title")|safe }}{% endblock title %}

{% block headers %}
  <link rel="stylesheet" type="text/css"
        href="{{ request.staticdirect('/includes/zero.css') }}" />
{% endblock headers %}

{% block scripts %}
  <script type="text/javascript">
    function continue_toggler() {
        submit_button = $('#details-submit');
        if ($('#confirm_details').is(':checked') && $('#confirm_understand').is(':checked')) {
            submit_button.removeAttr('disabled');
            submit_button.removeClass('disabled');
        } else {
            submit_button.attr('disabled', 'disabled');
            submit_button.addClass('disabled');
        }
    }

    $('#confirm_details').click(continue_toggler);
    $('#confirm_understand').click(continue_toggler);
  </script>
{% endblock %}

{% block sidebar %}{% endblock %}

{% block page_header_title %}CC0 Waiver{% endblock %}

{% block body %}
  <div>
    <div id="waiver_ui">
      <div class="bd">
        <p>
          <div>
            {{ cctrans(locale, "license.zero.additional_metadata")|safe }}
            <a href="" id="embedded_metadata" class="helpLink">
              <img src="{{ request.staticdirect('/images/information.png') }}"
                   alt="{{ cctrans(locale, 'Information')|safe }}"/></a>
              <div class="help-popover">
                <div class="popover below">
                  <div class="arrow"></div>
                  <div class="inner">
                    <h3 class="title">{{ cctrans(locale, "Embedded Metadata")|safe }}</h3>
                    <a href="#" class="close">&times;</a>
                    <div class="content">
                      <p>{{ cctrans(locale, "license.zero.metadata_help")|safe }}</p>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </p>

        <form id="form-details" class="form-stacked" action="confirm">
          <input type="hidden" name="license-class" value="zero" />

          <div class="form-row">
            <div class="form-question">{{ cctrans(locale, "util.your_name")|safe }}</div>
            <div class="form-answer">
              <input name="name" class="form-field"/>
            </div>
          </div>

          <div class="form-row">
            <div class="form-question">{{ cctrans(locale, "util.your_url")|safe }}</div>
            <div class="form-answer">
              <input name="actor_href" class="form-field"/>
              <a href="" id="url" class="helpLink">
                <img src="{{ request.staticdirect('/images/information.png') }}"
                     alt="{{ cctrans(locale, 'Information')|safe }}" /></a>
              <div class="help-popover">
                <div class="popover below">
                  <div class="arrow"></div>
                  <div class="inner">
                    <h3 class="title">{{ cctrans(locale, "util.your_url")|safe }}</h3>
                    <a href="#" class="close">&times;</a>
                    <div class="content">
                      <p>{{ cctrans(locale, "license.zero.your_url_help")|safe }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-question">
              {{ cctrans(locale, "util.title_of_work")|safe }}
            </div>
            <div class="form-answer">
              <input name="work_title" class="form-field" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-question">{{ cctrans(locale, "util.territory")|safe }}</div>
            <div class="form-answer">
              <select name="work_jurisdiction" class="form-field">
                <option value="-">---</option>
                {% for c in country_list %}
                  <option value="{{ c[0] }}">{{ c[1] }}</option>
                {% endfor %}
              </select>

              <a href="" id="country" class="helpLink">
                <img src="{{ request.staticdirect('/images/information.png') }}"
    	         alt="{{ cctrans(locale, 'Information')|safe }}" /></a>
              <div class="help-popover">
                <div class="popover below">
                  <div class="arrow"></div>
                  <div class="inner">
                    <h3 class="title">{{ cctrans(locale, "util.territory")|safe }}</h3>
                    <a href="#" class="close">&times;</a>
                    <div class="content">
                      <p>
                        {{ cctrans(locale, "license.zero.country_help")|safe }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-question">
              <input name="confirm" type="checkbox"
    	         id="confirm_details" class="form-field"
    	         value="confirm" />
            </div>
            <div class="form-answer">
              <label for="confirm">
                {{ cctrans(locale, "license.zero.confirm_waiver")|safe }}
              </label>
            </div>
          </div>

          <div class="form-row">
            <div class="form-question">&nbsp;</div>
            <div class="form-answer">
              <iframe class="form-field" src="/publicdomain/zero/1.0/legalcode-plain">
              </iframe>
            </div>
          </div>

          <div class="form-row">
            <div class="form-question">
              <input name="understand" type="checkbox"
                     id="confirm_understand" class="form-field"
                     value="confirm" />
            </div>
            <div class="form-answer">
              <label for="understand">
                {{ cctrans(locale, "license.zero.confirm_reading")|safe }}
              </label>
            </div>
          </div>

          <div>
            <input type="hidden" name="lang" value="{{ target_lang }}" />
          </div>

          <div class="form-row">
            <div class="form-question">&nbsp;</div>
            <div class="form-answer">
              <input type="submit" id="details-submit" disabled="disabled"
                     class="btn" name="field1"
                     value="{{ cctrans(locale, 'util.continue')|safe }}">
            </div>
          </div>

        </form>

        <br clear="both"/>&nbsp;
      </div>
    </div>

  </div>
{% endblock body %}
